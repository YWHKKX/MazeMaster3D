# 🎮 War for the Overworld - 完整角色图鉴

## 📚 图鉴概述

本图鉴收录了 War for the Overworld 世界中所有已知的角色类型，包括入侵的英雄和地下生物。从勇敢的骑士到神秘的法师，从勤劳的哥布林到凶猛的骨龙，每种角色都有其独特的战斗风格和战术特点。通过深入了解这些角色的特性，你将能够更好地制定攻防策略！

### 🎮 游戏内访问
在游戏中按 **B键** 可以打开角色图鉴，支持以下功能：
- 🔍 **搜索功能**: 输入角色名称进行搜索
- 📂 **分类浏览**: H键切换英雄，M键切换怪物
- ❤️ **收藏系统**: F键切换收藏列表
- 📊 **详细信息**: 点击角色查看完整属性

## 🎯 角色分类

### ⚔️ 英雄角色 (入侵者)
- 从地面世界入侵地下城的强大战士
- 拥有不同的职业和特殊能力
- 威胁等级从低到极高不同

### 👹 怪物角色 (地下生物)
- 玩家可以召唤和控制的地下生物
- 从基础工人到精英战士
- 成本从低到高，能力逐步提升

## 🎯 战斗范围系统

### 📏 范围说明
- **攻击范围**: 单位可以实际造成伤害的距离
- **追击范围**: 单位会主动追击和攻击敌人的距离
  - **近战单位**: 追击范围 = 攻击范围 × 2.5
  - **远程单位**: 追击范围 = 攻击范围 × 1.0
- **搜索范围**: 单位开始寻找敌人的距离
- **脱离战斗条件**: 只有当目标死亡或离开追击范围时，单位才会停止追击

## 📐 体型物理系统

### 🎯 体型设计标准
- **基准单位**: 哥布林苦工 (size = 12)
- **设计规范**: size = 100 表示1个标准立方体单位
- **碰撞半径**: 碰撞半径 = size × 0.6 (范围：5.0 - 25.0)

### 📊 体型分类
| 体型分类 | size范围 | 击退抗性     | 代表单位                   |
| -------- | -------- | ------------ | -------------------------- |
| 超小型   | ≤12      | 0.5 (易击退) | 哥布林苦工、哥布林工程师   |
| 小型     | 13-17    | 0.7          | 小恶魔、盗贼、刺客         |
| 中型     | 18-25    | 1.0 (标准)   | 骑士、兽人战士、大部分英雄 |
| 大型     | >25      | 1.5 (难击退) | 石魔像、骨龙、暗影领主     |

### ⚔️ 击退效果说明
- **普通击退**: 15像素，固定距离，不受体型影响
- **强击退**: 30像素基础距离，受目标体型抗性影响
  - 对超小型: 30 / 0.5 = 60像素 (被击飞很远)
  - 对中型: 30 / 1.0 = 30像素 (标准距离)
  - 对大型: 30 / 1.5 = 20像素 (难以击退)
- **弱击退**: 8像素，固定距离，不受体型影响

### ⚔️ 战斗单位分类
- **战斗单位**: 会主动寻找和攻击敌人
- **非战斗单位**: 专注于功能性任务，不会主动攻击敌人
  - 哥布林苦工：专注于挖掘金矿
  - 地精工程师：专注于建造和维护建筑，支持工程师管理和自动拒绝多余工程师

### 🎲 智能状态切换系统

#### 核心功能
所有怪物都配备了智能状态切换器，确保不会长时间停留在等待状态。

#### 工作原理
```python
# 状态切换器配置
waiting_timeout = 2.0秒          # 等待超时时间
state_change_cooldown = 0.5秒    # 状态切换冷却时间
waiting_states = ['idle', 'waiting', 'patrolling', 'exploring']
```

#### 切换机制
1. **等待状态检测**: 监控怪物是否处于等待状态
2. **超时判断**: 等待超过2秒后触发状态切换
3. **自动游荡**: 切换到wandering状态并开始游荡行为
4. **冷却保护**: 0.5秒状态切换冷却，防止频繁切换

#### 单位特定实现
- **小恶魔**: 使用MovementSystem的游荡功能
- **哥布林苦工**: 重写状态切换器，保持工作逻辑
- **工程师**: 重写状态切换器，保持任务分配逻辑

## 📊 角色图鉴总览

### ⚔️ 英雄角色一览表

| 英雄类型 | 威胁等级 | 生命值 | 攻击力 | 护甲值 | 移动速度 | 攻击范围 | 追击范围 | 攻击速度 | 体型 | 碰撞半径 | 特殊能力 |
| -------- | -------- | ------ | ------ | ------ | -------- | -------- | -------- | -------- | ---- | -------- | -------- |
| 盗贼     | ⭐⭐       | 600    | 28     | 1      | 61       | 25像素   | 63像素   | 0.6秒    | 14   | 8.4      | 偷窃     |
| 刺客     | ⭐⭐⭐      | 900    | 38     | 3      | 56       | 25像素   | 63像素   | 0.8秒    | 15   | 9.0      | 暗杀     |
| 弓箭手   | ⭐⭐       | 700    | 16     | 2      | 46       | 120像素  | 120像素  | 1.0秒    | 16   | 9.6      | 精准射击 |
| 法师     | ⭐⭐       | 500    | 22     | 1      | 40       | 100像素  | 100像素  | 2.0秒    | 16   | 9.6      | 火球术   |
| 牧师     | ⭐⭐       | 800    | 10     | 3      | 40       | 80像素   | 80像素   | 1.5秒    | 16   | 9.6      | 治疗术   |
| 工程师   | ⭐⭐⭐      | 1100   | 20     | 6      | 37       | 60像素   | 60像素   | 2.0秒    | 16   | 9.6      | 建造炮台 |
| 游侠     | ⭐⭐⭐      | 1000   | 25     | 4      | 43       | 150像素  | 150像素  | 1.2秒    | 17   | 10.2     | 追踪箭   |
| 德鲁伊   | ⭐⭐⭐      | 1300   | 22     | 6      | 42       | 80像素   | 80像素   | 1.8秒    | 17   | 10.2     | 自然形态 |
| 骑士     | ⭐⭐       | 900    | 18     | 5      | 42       | 35像素   | 88像素   | 1.2秒    | 18   | 10.8     | 无       |
| 大法师   | ⭐⭐⭐      | 800    | 35     | 2      | 38       | 120像素  | 120像素  | 2.5秒    | 18   | 10.8     | 连锁闪电 |
| 暗影剑圣 | ⭐⭐⭐⭐⭐    | 1400   | 58     | 8      | 51       | 35像素   | 88像素   | 1.0秒    | 19   | 11.4     | 暗影步   |
| 圣骑士   | ⭐⭐⭐      | 1600   | 28     | 10     | 37       | 40像素   | 100像素  | 1.5秒    | 20   | 12.0     | 神圣光环 |
| 狂战士   | ⭐⭐⭐      | 1200   | 42     | 3      | 49       | 30像素   | 75像素   | 0.8秒    | 21   | 12.6     | 狂暴     |
| 龙骑士   | ⭐⭐⭐⭐     | 2200   | 48     | 12     | 46       | 45像素   | 113像素  | 1.8秒    | 24   | 14.4     | 龙息攻击 |

### 👹 怪物角色一览表

| 怪物类型   | 战斗等级 | 成本  | 生命值 | 攻击力 | 护甲值 | 移动速度 | 攻击范围 | 追击范围 | 攻击速度 | 体型 | 碰撞半径 | 特殊能力 | 战斗类型 |
| ---------- | -------- | ----- | ------ | ------ | ------ | -------- | -------- | -------- | -------- | ---- | -------- | -------- | -------- |
| 哥布林苦工 | ⭐        | 80魔  | 600    | 8      | 0      | 42       | 30像素   | 无       | 1.0秒    | 12   | 7.2      | 挖掘     | 非战斗   |
| 地精工程师 | ⭐⭐       | 100魔 | 800    | 12     | 2      | 40       | 100像素  | 无       | 1.0秒    | 12   | 7.2      | 建造陷阱 | 非战斗   |
| 小恶魔     | ⭐⭐       | 100魔 | 800    | 15     | 2      | 46       | 30像素   | 75像素   | 1.0秒    | 15   | 9.0      | 无       | 战斗     |
| 暗影法师   | ⭐⭐⭐      | 150魔 | 900    | 22     | 2      | 40       | 100像素  | 100像素  | 2.5秒    | 16   | 9.6      | 穿透     | 战斗     |
| 魅魔       | ⭐⭐⭐⭐     | 200魔 | 1500   | 32     | 5      | 43       | 70像素   | 70像素   | 1.8秒    | 16   | 9.6      | 魅惑     | 战斗     |
| 地狱犬     | ⭐⭐⭐      | 150魔 | 1100   | 30     | 3      | 56       | 25像素   | 63像素   | 0.8秒    | 17   | 10.2     | 火焰吐息 | 战斗     |
| 兽人战士   | ⭐⭐       | 120魔 | 900    | 22     | 4      | 80       | 35像素   | 88像素   | 1.2秒    | 18   | 10.8     | 狂暴     | 战斗     |
| 火蜥蜴     | ⭐⭐⭐      | 200魔 | 1000   | 28     | 3      | 43       | 85像素   | 85像素   | 1.0秒    | 18   | 10.8     | 溅射     | 战斗     |
| 石像鬼     | ⭐⭐⭐      | 150魔 | 1200   | 25     | 6      | 40       | 35像素   | 88像素   | 1.2秒    | 20   | 12.0     | 重击     | 战斗     |
| 树人守护者 | ⭐⭐⭐⭐     | 200魔 | 2000   | 35     | 10     | 32       | 40像素   | 100像素  | 2.0秒    | 22   | 13.2     | 缠绕     | 战斗     |
| 暗影领主   | ⭐⭐⭐⭐⭐    | 400魔 | 3200   | 55     | 12     | 46       | 60像素   | 60像素   | 1.5秒    | 24   | 14.4     | 形态切换 | 战斗     |
| 石魔像     | ⭐⭐⭐⭐⭐    | 400魔 | 4500   | 45     | 25     | 30       | 40像素   | 100像素  | 2.5秒    | 28   | 16.8     | 岩石护盾 | 战斗     |
| 骨龙       | ⭐⭐⭐⭐⭐    | 600魔 | 4000   | 60     | 18     | 51       | 50像素   | 125像素  | 2.0秒    | 32   | 19.2     | 骨刺风暴 | 战斗     |

## 📊 英雄属性对比表

**速度说明**：速度值表示移动速度（单位：格子/秒 × 100）
- 速度 30 = 每秒移动 0.30 格子（极慢，如石魔像）
- 速度 42 = 每秒移动 0.42 格子（慢速，如哥布林苦工）
- 速度 50 = 每秒移动 0.50 格子（中速）
- 速度 61 = 每秒移动 0.61 格子（快速，如盗贼）
- 速度 80 = 每秒移动 0.80 格子（极快，如兽人战士）

**计算公式**: 实际移动速度(格/秒) = speed / 100.0

| 英雄类型 | 生命值 | 攻击力 | 速度 | 护甲 | 体型 | 碰撞半径 | 攻击范围 | 追击范围 | 攻击速度 | 特殊能力 | 威胁等级 |
| -------- | ------ | ------ | ---- | ---- | ---- | -------- | -------- | -------- | -------- | -------- | -------- |
| 盗贼     | 600    | 28     | 61   | 1    | 14   | 8.4      | 25       | 63像素   | 0.6秒    | 偷窃     | ⭐⭐       |
| 刺客     | 900    | 38     | 56   | 3    | 15   | 9.0      | 25       | 63像素   | 0.8秒    | 暗杀     | ⭐⭐⭐      |
| 弓箭手   | 700    | 16     | 46   | 2    | 16   | 9.6      | 120      | 120像素  | 1.0秒    | 精准射击 | ⭐⭐       |
| 法师     | 500    | 22     | 40   | 1    | 16   | 9.6      | 100      | 100像素  | 2.0秒    | 火球术   | ⭐⭐       |
| 牧师     | 800    | 10     | 40   | 3    | 16   | 9.6      | 80       | 80像素   | 1.5秒    | 治疗术   | ⭐⭐       |
| 工程师   | 1100   | 20     | 37   | 6    | 16   | 9.6      | 60       | 60像素   | 2.0秒    | 建造炮台 | ⭐⭐⭐      |
| 游侠     | 1000   | 25     | 43   | 4    | 17   | 10.2     | 150      | 150像素  | 1.2秒    | 追踪箭   | ⭐⭐⭐      |
| 德鲁伊   | 1300   | 22     | 42   | 6    | 17   | 10.2     | 80       | 80像素   | 1.8秒    | 自然形态 | ⭐⭐⭐      |
| 骑士     | 900    | 18     | 42   | 5    | 18   | 10.8     | 35       | 88像素   | 1.2秒    | 无       | ⭐⭐       |
| 大法师   | 800    | 35     | 38   | 2    | 18   | 10.8     | 120      | 120像素  | 2.5秒    | 连锁闪电 | ⭐⭐⭐      |
| 暗影剑圣 | 1400   | 58     | 51   | 8    | 19   | 11.4     | 35       | 88像素   | 1.0秒    | 暗影步   | ⭐⭐⭐⭐⭐    |
| 圣骑士   | 1600   | 28     | 37   | 10   | 20   | 12.0     | 40       | 100像素  | 1.5秒    | 神圣光环 | ⭐⭐⭐      |
| 狂战士   | 1200   | 42     | 49   | 3    | 21   | 12.6     | 30       | 75像素   | 0.8秒    | 狂暴     | ⭐⭐⭐      |
| 龙骑士   | 2200   | 48     | 46   | 12   | 24   | 14.4     | 45       | 113像素  | 1.8秒    | 龙息攻击 | ⭐⭐⭐⭐     |

## 📊 怪物属性对比表

**速度说明**：速度值表示移动速度（单位：格子/秒 × 100）

**计算公式**: 实际移动速度(格/秒) = speed / 100.0

| 怪物类型   | 战斗等级 | 成本  | 生命值 | 攻击力 | 护甲值 | 速度 | 体型 | 碰撞半径 | 攻击范围 | 追击范围 | 攻击速度 | 特殊能力 | 推荐用途 | 战斗类型 |
| ---------- | -------- | ----- | ------ | ------ | ------ | ---- | ---- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
| 哥布林苦工 | ⭐        | 80魔  | 600    | 8      | 0      | 42   | 12   | 7.2      | 30像素   | 无       | 1.0秒    | 挖掘     | 经济单位 | 非战斗   |
| 地精工程师 | ⭐⭐       | 100魔 | 800    | 12     | 2      | 40   | 12   | 7.2      | 100像素  | 无       | 1.0秒    | 建造陷阱 | 陷阱专家 | 非战斗   |
| 小恶魔     | ⭐⭐       | 100魔 | 800    | 15     | 2      | 46   | 15   | 9.0      | 30像素   | 75像素   | 1.0秒    | 无       | 主力战士 | 战斗     |
| 暗影法师   | ⭐⭐⭐      | 150魔 | 900    | 22     | 2      | 40   | 16   | 9.6      | 100像素  | 100像素  | 2.5秒    | 穿透     | 魔法攻击 | 战斗     |
| 魅魔       | ⭐⭐⭐⭐     | 200魔 | 1500   | 32     | 5      | 43   | 16   | 9.6      | 70像素   | 70像素   | 1.8秒    | 魅惑     | 心智控制 | 战斗     |
| 地狱犬     | ⭐⭐⭐      | 150魔 | 1100   | 30     | 3      | 56   | 17   | 10.2     | 25像素   | 63像素   | 0.8秒    | 火焰吐息 | 高速猎手 | 战斗     |
| 兽人战士   | ⭐⭐       | 120魔 | 900    | 22     | 4      | 80   | 18   | 10.8     | 35像素   | 88像素   | 1.2秒    | 狂暴     | 近战战士 | 战斗     |
| 火蜥蜴     | ⭐⭐⭐      | 200魔 | 1000   | 28     | 3      | 43   | 18   | 10.8     | 85像素   | 85像素   | 1.0秒    | 溅射     | 远程火力 | 战斗     |
| 石像鬼     | ⭐⭐⭐      | 150魔 | 1200   | 25     | 6      | 40   | 20   | 12.0     | 35像素   | 88像素   | 1.2秒    | 重击     | 重装战士 | 战斗     |
| 树人守护者 | ⭐⭐⭐⭐     | 200魔 | 2000   | 35     | 10     | 32   | 22   | 13.2     | 40像素   | 100像素  | 2.0秒    | 缠绕     | 防守专家 | 战斗     |
| 暗影领主   | ⭐⭐⭐⭐⭐    | 400魔 | 3200   | 55     | 12     | 46   | 24   | 14.4     | 60像素   | 60像素   | 1.5秒    | 形态切换 | 全能战士 | 战斗     |
| 石魔像     | ⭐⭐⭐⭐⭐    | 400魔 | 4500   | 45     | 25     | 30   | 28   | 16.8     | 40像素   | 100像素  | 2.5秒    | 岩石护盾 | 无敌坦克 | 战斗     |
| 骨龙       | ⭐⭐⭐⭐⭐    | 600魔 | 4000   | 60     | 18     | 51   | 32   | 19.2     | 50像素   | 125像素  | 2.0秒    | 骨刺风暴 | 终极武器 | 战斗     |

## 🎯 角色特色分析

### ⚔️ 英雄角色特色

#### 基础英雄 (威胁等级 ⭐⭐)
- **骑士**: 平衡型战士，适合新手使用
- **弓箭手**: 远程输出，需要保护
- **法师**: 高伤害但脆弱，需要战术配合
- **牧师**: 辅助型角色，提供治疗支持
- **盗贼**: 高攻击速度，适合快速击杀

#### 高级英雄 (威胁等级 ⭐⭐⭐)
- **圣骑士**: 高生命值和护甲，适合坦克角色
- **刺客**: 极高攻击力，适合暗杀战术
- **游侠**: 超远射程，适合风筝战术
- **大法师**: 范围魔法攻击，适合群体作战
- **德鲁伊**: 平衡型法师，具有自然魔法
- **狂战士**: 极高攻击力，适合正面冲锋
- **工程师**: 建造炮台，适合防守

#### 传说英雄 (威胁等级 ⭐⭐⭐⭐ - ⭐⭐⭐⭐⭐)
- **龙骑士**: 综合能力极强，适合各种战术
- **暗影剑圣**: 最高攻击力，适合高端操作

### 👹 怪物角色特色

#### 非战斗单位
- **哥布林苦工**: 经济基础，专注资源收集
- **地精工程师**: 建造专家，专注陷阱和防御

#### 战斗单位
- **小恶魔**: 基础战斗单位，性价比高
- **石像鬼**: 重装战士，适合正面作战
- **兽人战士**: 狂暴战士，低血量时进入狂暴状态
- **火蜥蜴**: 远程火力，具有溅射伤害
- **暗影法师**: 魔法攻击，具有穿透效果
- **地狱犬**: 高速猎手，适合追击
- **树人守护者**: 防守专家，具有控制能力
- **魅魔**: 心智控制，适合战术配合
- **暗影领主**: 全能战士，形态切换能力强
- **骨龙**: 终极武器，具有范围攻击
- **石魔像**: 无敌坦克，最高防御力

## 💡 战术建议

### 英雄应对策略
1. **远程英雄**: 优先击杀，使用快速单位包围
2. **近战英雄**: 利用远程单位风筝，避免正面冲突
3. **法师英雄**: 快速突进，打断施法
4. **辅助英雄**: 优先击杀，削弱敌方整体实力

### 体型战术应用
1. **小型单位优势**:
   - 碰撞体积小，便于走位和包围
   - 适合快速穿插和骚扰
   - 注意：容易被击退，需要保护
   
2. **大型单位优势**:
   - 难以被击退，适合前排坦克
   - 碰撞体积大，可以阻挡敌人
   - 适合守护关键区域

3. **体型搭配**:
   - 前排：大型单位（石魔像、骨龙）抗伤害
   - 中排：中型单位（兽人战士、石像鬼）输出
   - 后排：小型单位（小恶魔、暗影法师）支援

### 怪物搭配建议
1. **经济型**: 哥布林苦工 + 地精工程师
2. **平衡型**: 小恶魔 + 兽人战士 + 石像鬼 + 火蜥蜴
3. **防御型**: 树人守护者 + 石魔像 + 魅魔
4. **进攻型**: 暗影领主 + 骨龙 + 地狱犬 + 兽人战士

## 📈 升级优先级

### 英雄威胁优先级
1. **极高威胁**: 暗影剑圣、龙骑士
2. **高威胁**: 大法师、狂战士、刺客
3. **中等威胁**: 圣骑士、游侠、德鲁伊、工程师
4. **低威胁**: 骑士、弓箭手、法师、牧师、盗贼

### 怪物召唤优先级
1. **经济优先**: 哥布林苦工 → 地精工程师
2. **防御优先**: 小恶魔 → 石像鬼 → 树人守护者 → 石魔像
3. **进攻优先**: 兽人战士 → 火蜥蜴 → 暗影领主 → 骨龙
4. **终极单位**: 骨龙（资源充足时）

---

*本图鉴将随着游戏更新持续完善，更多角色和战术将在未来版本中添加！*